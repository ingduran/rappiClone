"use client";
import Link from "next/link";
import { useRouter } from "next/navigation";
import { google } from "../config/firebase";

export default function Login() {


    const router = useRouter();

    const handleGoogle = async() =>{
        const infoUser = await google();
        //console.log(infoUser.user);
        //console.log(infoUser.user.displayName);
        //console.log(infoUser.user.photoURL);
        //console.log(infoUser.user.email);

        // Guardar token y datos básicos
        const userData = {
            displayName: infoUser.user.displayName,
            photoURL: infoUser.user.photoURL,
            email: infoUser.user.email,
        };

        const token = await 
        infoUser.user.getIdToken(true);
        sessionStorage.setItem('token', JSON.stringify(token));
        sessionStorage.setItem("user", JSON.stringify(userData));

        router.push("/");

    }
    

    return (
        <>
            <div id="_container">
                <div id="_containerIn" className="relative text-[#2e2c36] font-[400]">

                    <div id="_headerLogin" className="headerLogin">
                        <div className="headerLogin-div"></div>

                        <div id="custom-rappi-simple-toolbar" className="headerLogin-container">
                            <div className="headerLogin-logo">
                                <Link href="/" className="headerLogin-logo-a">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="72" height="31" fill="none" viewBox="0 0 72 31">
                                        <path fill="#ff441f" d="M58.554 7.052c.7-.017 1.382.228 1.91.688a3.6 3.6 0 0 1 1.077 1.874 7.91 7.91 0 0 1 .121 2.786c-.16 1.232-.466 2.441-.915 3.6-.412 1.14-.94 2.235-1.577 
                                            3.266l-.868 1.256c-.015.022-.014.051.003.071s.046.026.07.014l.503-.306c.387-.252.76-.524 1.117-.816.97-.798 1.671-1.873 2.012-3.08l.681-2.16 1.292-3.25a22.49 22.49 0 0 1 
                                            1.107-2.185c.29-.508.785-.869 1.358-.99.504-.115 1.029-.107 1.529.023a2.31 2.31 0 0 1 1.177.721c.32.337.4.836.201 1.256l-.445 1.028-.815 1.904-.915 2.319c-.278.728-.512 1.472-.7 
                                            2.228a5.32 5.32 0 0 0-.185 1.623c.032.402.186.402.266.402.244-.031.47-.144.641-.32.341-.286.664-.594.966-.921a13.07 13.07 0 0 0 .956-1.146l.694-.965a.86.86 0 0 1 .719-.374c.301 0 
                                            .583.149.754.397l-.045.015a.69.69 0 0 1-.012.771l-1.077 1.628a22.94 22.94 0 0 1-1.843 2.36c-.697.791-1.477 1.506-2.326 2.132-.746.594-1.665.931-2.618.962-.782 
                                            0-1.363-.271-1.733-.811-.36-.59-.536-1.274-.503-1.965v-.128c.002-.045-.023-.086-.063-.106s-.088-.013-.123.016l-.503.394c-1.07.793-2.241 1.439-3.483 1.922-1.21.47-2.497.704-3.794.693-.181 
                                            0-.367-.012-.553-.012-.926-.003-1.613-.297-2.043-.872a3.16 3.16 0 0 1-.208-.314c-.022-.04-.067-.064-.113-.058s-.084.038-.096.083l-.395 1.354-.689 2.465-.503 1.974-.281 1.354v.013a1.12 1.12 
                                            0 0 1-.893.942c-.154.034-.31.05-.468.05a2.71 2.71 0 0 1-.9-.166c-.485-.179-.917-.476-1.258-.864a2.26 2.26 0 0 1-.57-1.565c.047-.477.14-.948.276-1.407l.73-2.763.699-2.387c.016-.046 
                                            0-.098-.04-.127s-.094-.03-.134 0c-.943.642-1.955 1.177-3.018 1.594-1.209.47-2.497.705-3.794.694-.181 0-.367-.013-.553-.013-.926-.002-1.612-.296-2.042-.872a3.18 3.18 0 0 
                                            1-.21-.314c-.021-.04-.066-.063-.112-.058s-.084.039-.096.083l-.395 1.355-.689 2.464-.515 1.977-.282 1.354v.013a1.12 1.12 0 0 1-.893.942 2.13 2.13 0 0 1-.465.05 2.71 2.71 0 0 
                                            1-.9-.166c-.485-.179-.917-.476-1.258-.864a2.26 2.26 0 0 1-.57-1.565c.047-.477.14-.948.276-1.407l.73-2.763.598-2.058c.015-.049-.004-.102-.048-.13s-.1-.02-.138.015c-.373.344-.764.669-1.172.972-.734.597-1.644.938-2.59.972-.78 
                                            0-1.363-.271-1.733-.811-.155-.232-.273-.486-.35-.754a.34.34 0 0 0-.575-.138c-.255.267-.534.51-.835.723a5.87 5.87 0 0 1-1.298.694 4.35 4.35 0 0 
                                            1-1.564.279c-.709.013-1.398-.229-1.944-.681-.565-.484-.976-1.122-1.182-1.837-.249-.906-.334-1.85-.251-2.786.096-1.221.341-2.427.73-3.59.88-2.705 1.998-4.68 3.407-5.96s2.839-1.933 4.25-1.933c.526-.02 
                                            1.048.105 1.508.36a2.38 2.38 0 0 1 .898.926 3.11 3.11 0 0 1 .297.82c.006.022.025.039.048.042a.06.06 0 0 0 .058-.027l.203-.35c.286-.503.772-.862 1.338-.987.504-.116 1.028-.109 1.529.02.465.112.884.365 
                                            1.2.724.32.337.4.836.2 1.256l-.444 1.027-.82 1.907-.916 2.319a19.24 19.24 0 0 0-.699 2.228c-.145.528-.208 1.076-.186 1.623.033.402.186.402.267.402.244-.031.47-.144.641-.32l.546-.502c.705-.672 1.232-1.509 
                                            1.536-2.434l1.35-3.73 1.444-3.432c.211-.487.621-.86 1.127-1.025.464-.155.96-.189 1.44-.098a2.73 2.73 0 0 1 1.245.57 1.7 1.7 0 0 1 .37.41c.025.027.053.032.088 0 .419-.39.872-.74 1.353-1.048.72-.46 1.558-.698 
                                            2.412-.688a2.81 2.81 0 0 1 1.91.688c.541.5.915 1.155 1.072 1.874.205.914.246 1.858.12 2.786-.159 1.232-.466 2.441-.915 3.6a17.58 17.58 0 0 1-1.576 3.266l-.865 1.256c-.016.022-.015.051.003.071s.046.026.07.014l.502-.306.788-.568a6.15 
                                            6.15 0 0 0 2.09-2.934l.15-.455 1.439-3.994 1.443-3.432c.211-.487.621-.86 1.127-1.025.464-.155.96-.189 1.44-.098a2.74 2.74 0 0 1 1.245.57 1.75 1.75 0 0 1 .383.423c.025.027.053.032.088 0a9.46 9.46 0 0 1 1.353-1.048 4.38 4.38 0 0 1 
                                            2.409-.688zM11.72.62a13.83 13.83 0 0 1 3.198.371 9.9 9.9 0 0 1 2.834 1.126 6.61 6.61 0 0 1 2.047 1.881c.535.776.813 1.7.797 2.64.009 1.037-.23 2.06-.699 2.985a8.66 8.66 0 0 1-1.88 2.447 12.35 12.35 0 0 1-2.752 1.88 18.12 18.12 0 0 
                                            1-2.728 1.107c-.026.004-.049.019-.064.04s-.021.047-.017.073l.1 1.392.212 1.507.307 1.362.302.972.216.573a10.77 10.77 0 0 0 .493 1.035 9.21 9.21 0 0 0 .55.9c.186.263.388.515.607.753a6.56 6.56 0 0 0 .651.618c.216.178.446.34.686.485a5.36 5.36 0 0 0 
                                            .717.354c.245.097.497.174.755.23a4.83 4.83 0 0 0 .777.111c.27.02.54.02.81 0 .284-.024.566-.07.844-.135.298-.07.59-.16.875-.269a7.96 7.96 0 0 0 .903-.407l.345-.188c.373-.217.85-.114 1.1.236s.196.834-.13 1.118l-.477.404-1.145.867-1.078.68-.559.302c-.36.183-.73.347-1.109.49a9.34 9.34 0 0 
                                            1-1.099.334 8.09 8.09 0 0 1-1.07.186l-.755.038h-.297c-.338-.015-.674-.055-1.006-.12l-.488-.116-.473-.154a6.29 6.29 0 0 1-.897-.407 6.76 6.76 0 0 1-.83-.537 7.5 7.5 0 0 
                                            1-.626-.528c-.248-.236-.48-.488-.697-.754-.224-.27-.432-.554-.623-.849l-.551-.947-.478-1.04-.402-1.128-.33-1.21-.251-1.292-.156-1.198c-.002-.057-.046-.104-.103-.11s-.11.034-.121.09H7.95l-.402 1.542-.43 1.698-.252 1.186c-.082.498-.48.883-.98.95-.502.088-1.017.045-1.497-.126-.516-.172-.985-.463-1.368-.849-.421-.415-.653-.986-.639-1.578.047-.829.177-1.65.388-2.454.251-1.115.623-2.442 
                                            1.096-3.937l1.69-4.86 1.87-4.485c.224-.486.686-.82 1.218-.882 1.043-.146 2.103-.11 3.133.103a.88.88 0 0 1 .582.462.87.87 0 0 1 .014.742l-1.566 3.783-1.09 2.957c-.015.043-.003.092.031.123s.084.038.126.018a11.35 11.35 0 0 0 1.355-.754c.725-.465 1.386-1.021 1.967-1.656.57-.625 1.04-1.334 1.393-2.102.354-.774.536-1.616.533-2.467 0-1.128-.312-1.96-.928-2.475s-1.504-.791-2.623-.791a6.29 6.29 0 0 0-3.209.831 9.59 9.59 0 0 0-2.502 2.07c-.668.774-1.214 1.645-1.62 2.583-.34.73-.534 1.521-.57 2.326a.94.94 0 0 1-.694.95 1.9 1.9 0 0 1-1.258-.058 2.71 2.71 0 0 1-1.176-.932c-.38-.541-.57-1.193-.539-1.854 0-.673.252-1.467.78-2.424.584-1.024 1.34-1.939 2.238-2.703a13.34 13.34 0 0 1 3.67-2.211 13 13 0 0 1 5.028-.923zm30.728 9.42l-.024.003a.7.7 0 0 0-.367.168c-.351.271-.665.588-.933.942a13.83 13.83 0 0 0-1.086 1.62 18.56 18.56 0 0 0-1.056 2.123 21.5 21.5 0 0 0-.803 2.241c-.194.635-.351 1.281-.47 1.934a4.68 4.68 0 0 0-.075 1.367c.05.384.168.465.203.48.017.004.034.004.05 0a.7.7 0 0 0 .368-.166c.353-.273.666-.594.93-.954a13.89 13.89 0 0 0 1.07-1.636l1.078-2.133a22.12 22.12 0 0 0 .81-2.233 17.74 17.74 0 0 0 .47-1.92l-.01-.004c.092-.444.117-.898.075-1.35-.052-.381-.17-.464-.206-.48-.016-.003-.032-.003-.048 0l.024-.002zm14.276-.002l-.024.002a.72.72 0 0 0-.367.168c-.349.27-.66.584-.925.935a13.67 13.67 0 0 0-1.087 1.62 18.82 18.82 0 0 0-1.053 2.143 21.39 21.39 0 0 0-.812 2.231c-.195.635-.352 1.28-.47 1.934a4.58 4.58 0 0 0-.076 1.367c.05.384.168.465.204.48.016.004.033.004.05 0a.7.7 0 0 0 .367-.166 4.83 4.83 0 0 0 .93-.954c.395-.52.75-1.066 1.067-1.636l1.081-2.133c.307-.73.574-1.478.8-2.238.192-.63.35-1.271.47-1.92a4.61 4.61 0 0 0 .073-1.351c-.05-.382-.169-.465-.204-.48-.015-.003-.032-.003-.048 0l.024-.002zM26.878 9.97l-.022.002c-.13.019-.25.076-.345.164a4.36 4.36 0 0 0-.872.952c-.366.518-.69 1.064-.971 1.633-.325.643-.644 1.361-.946 2.133-.287.725-.527 1.468-.716 2.225a12.88 12.88 0 0 0-.337 1.91 5.56 5.56 0 0 0 .017 1.364c.066.387.189.472.224.487.016.003.032.003.048 0 .129-.018.249-.075.344-.163.335-.27.63-.585.875-.937.368-.51.692-1.05.971-1.613.33-.653.646-1.38.946-2.133a18.14 18.14 0 0 0 .716-2.226 14.73 14.73 0 0 0 .352-1.922 4.47 4.47 0 0 0-.01-1.371c-.085-.4-.213-.485-.251-.503-.015-.003-.03-.003-.045 0l.022-.002zM68.811 0A3.19 3.19 0 0 1 72 3.185a3.19 3.19 0 0 1-3.189 3.186 3.19 3.19 0 0 1-3.188-3.186C65.623 1.426 67.05 0 68.81 0z"></path>
                                    </svg>
                                </Link>
                            </div>
                        </div>

                    </div>

                    <div className="bannerBox">
                        <div className="bannerBoxIn">
                            <div className="bannerBoxFilter"></div>
                            <div className="banner-img">
                                <span className="banner-img-span">
                                    <span className="banner-img-spanIn"></span>
                                    <img className="login-banner" src="/10-login-banner.png" alt="banner"/>
                                </span>
                            </div>
                        </div>
                    </div>

                    <div className="registerText-box">
                        <div id="registerText-box-btn" className="absolute cursor-pointer">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" data-testid="arrow-back">
                                <path fill="#ffffff" d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42a.996.996 0 00-1.41 0l-6.59 6.59a.996.996 0 000 1.41l6.59 6.59a.996.996 0 101.41-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"></path>
                            </svg>
                        </div>

                        <div className="registerText-box-texto">
                            <p className="registerText-box-p">Regístrate o ingresa para continuar</p>
                        </div>

                    </div>

                    <div id="_containerGrid" className="containerGrid">
                        <div className="containerGrid-ad">
                            <div className="containerGrid-ad-box">
                                <div className="containerGrid-ad-boxIn">
                                    <div className="containerGrid-ad-logo">
                                        <div className="containerGrid-ad-logoDiv">
                                            <span className="spanStyles">
                                                <span className="spanStylesIn"></span>
                                                <img src="../10-img-bike.png" className="containerGrid-ad-img" alt="bike"></img>
                                            </span>
                                        </div>
                                    </div>

                                    <div className="containerGrid-ad-text">
                                        <h1 className="containerGrid-ad-h1">Regístrate ya y ahórrate los costos de envío</h1>
                                        <p className="containerGrid-ad-p"> Envíos gratis durante las primeras semanas pagando con tarjeta.</p>
                                        <div>
                                            <p className="containerGrid-ad-p1">*Válido para nuevos usuarios</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="containerGrid-form">
                            <p className="containerGrid-form-p-hidden">Regístrate o ingresa para continuar</p>

                            <div className="login-options">
                                <button type="button" className="gsiSignButton" onClick={handleGoogle}>
                                    <div className="divbtn flex justify-center items-center">
                                        <span className="icon-phone-button divbtnSpan">
                                            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" className="">
                                                <g>
                                                    <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path>
                                                    <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path>
                                                    <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path>
                                                    <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path>
                                                    <path fill="none" d="M0 0h48v48H0z"></path>
                                                </g>
                                            </svg>
                                        </span>
                                    </div>
                                    Continuar con Google
                                </button>

                                <a href="#" className="phone-options">
                                    <span className="icon-phone-button">
                                        <svg viewBox="0 0 24 24" focusable="false" className="icon-phone-button-svg" aria-hidden="true">
                                            <path fill="currentColor" d="M20.01 15.38C18.78 15.38 17.59 15.18 16.48 14.82C16.13 14.7 15.74 14.79 15.47 15.06L13.9 17.03C11.07 15.68 8.42 13.13 7.01 10.2L8.96 8.54C9.23 8.26 9.31 7.87 9.2 7.52C8.83 6.41 8.64 5.22 8.64 3.99C8.64 3.45 8.19 3 7.65 3H4.19C3.65 3 3 3.24 3 3.99C3 13.28 10.73 21 20.01 21C20.72 21 21 20.37 21 19.82V16.37C21 15.83 20.55 15.38 20.01 15.38Z"></path>
                                        </svg>
                                    </span>
                                    Continuar con tu celular
                                </a>

                                <button type="button" className="facebook-option">
                                    <span className="icon-phone-button">
                                        <svg viewBox="0 0 24 24" focusable="false" className="icon-phone-button-svg" aria-hidden="true">
                                            <path fill="currentColor" d="M21.5 11.8096C21.5 6.3919 17.1348 2 11.75 2C6.36522 2 2 6.3919 2 11.8096C2 16.7058 5.56543 20.7641 10.2266 21.5V14.6452H7.75098V11.8096H10.2266V9.64841C10.2266 7.18988 11.6822 5.83187 13.9093 5.83187C14.976 5.83187 16.0918 6.02346 16.0918 6.02346V8.43754H14.8623C13.6512 8.43754 13.2734 9.1937 13.2734 9.96946V11.8096H15.9775L15.5453 14.6452H13.2734V21.5C17.9346 20.7641 21.5 16.7058 21.5 11.8096Z"></path>
                                        </svg>
                                    </span>
                                    Continuar con Facebook
                                </button>

                                <button type="button" className="apple-option">
                                    <span className="icon-phone-button">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                                            <path fill="white" fillRule="evenodd" d="M14.605 5.922c.61-.758 1.074-1.829.906-2.922-.998.067-2.165.68-2.846 1.48-.621.726-1.131 1.804-.932 2.85 1.092.034 2.218-.595 2.872-1.408zM20 16.206c-.437.936-.647 1.354-1.21 2.183-.785 1.157-1.892 2.597-3.264 2.608-1.219.012-1.533-.768-3.188-.758-1.654.008-1.999.773-3.22.76-1.371-.01-2.42-1.31-3.205-2.467-2.196-3.233-2.427-7.027-1.073-9.045.964-1.433 2.483-2.271 3.91-2.271 1.454 0 2.368.77 3.571.77 1.167 0 1.878-.773 3.558-.773 1.272 0 2.62.67 3.58 1.826-3.145 1.666-2.636 6.006.541 7.167z" clipRule="evenodd"></path>
                                        </svg>
                                    </span>
                                    Continuar con Apple
                                </button>

                                <button type="button" className="have-account-option" data-qa="have-account-option">Ya tengo cuenta</button>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </>
    );
}